#!/bin/env nu

# Show which tmux session is in which window
def main [] {
  get-clients-with-session
  | each {|client|
    $" [($client.windowIndex) ($client.windowName)] ($client.sessionName)"
  }
  | to text
}

def get-clients-with-session [] {
  tmux list-clients -F '#{session_name} #{window_index} #{window_name}'
  | lines
  | parse "{sessionName} {windowIndex} {windowName}"
}
