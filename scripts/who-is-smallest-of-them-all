#!/bin/env nu

# Show which tmux session is most restrictive for
# width and which is most restrictive for height
def main [] {
  tmux list-clients
  | parse "{a}: {session} [{width}x{height} {b}"
  | update width { into int }
  | update height { into int }
  | {
    min_width: ($in | sort-by width | first | get session)
    min_height: ($in | sort-by height | first | get session)
  }
}
